实现在页面上显示一个图片

以webapps/myweb/index.html页面为例,我们在myweb目录下存放一张图片,
然后使用<img>标签在页面加载并显示该图片。


通过测试发现图片不能正常显示原因:
当页面上需要加载资源的是后,服务器会在此发起请求去下载该资源进行显示。因此我们的服务端不能仅一次接受了
解决:
webServer类start方法中接受客户端连接并启动线程处理的操作循环进行即可

将靴子商城的一套素材拷贝到webapps目录下进行访问,发现首页不能正常显示了
原因:
浏览器跟踪与服务端交互发现,无论浏览器请求页面上什么资源时,服务端都响应该资源为页面
在响应头Content-Type中指定的类型是固定的text/html
这导致浏览器试实际获取该资源时无法辨别其实际作用,因此导致资源无法正常显示

因此我们要对httpResponse发送响应头的工作进行重构

1:不能再发送响应头的环节固定只发送两个头:Content-Type,Content-Length
    而是:应当将来可根据实际处理后想响应对象设置需要发送的响应头并进行发送即可
2:发送content-Type时要结合实际正文类型发送对应的类型,而不是固定的值text/html



此版本完成第一个重构,将发送响应头的工作写灵活

实现:
1:在HttpResponse中定义一个属性:Map headers
使用这个map保存所有的需要给浏览器发送的响应头
2:将发送响应头的工作sendHeaders的逻辑改为遍历   headers这个map,将所有的响应头发送给浏览器
3:在处理请求的环节设置Response,为其添加一套发送的响应头即可
这样一来在发送响应式没救可以将处理请求环节需要发送的响应头全部回复给浏览器。